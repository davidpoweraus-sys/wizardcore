# ============================================
# WIZARDCORE COMPLETE ENVIRONMENT CONFIGURATION
# ============================================

# DOMAIN CONFIGURATION
# ====================
DOMAIN=offensivewizard.com
FRONTEND_DOMAIN=app.offensivewizard.com
BACKEND_DOMAIN=api.offensivewizard.com
AUTH_DOMAIN=auth.offensivewizard.com
JUDGE0_DOMAIN=judge0.offensivewizard.com

# FRONTEND (Next.js) ENVIRONMENT VARIABLES
# =========================================
NEXT_PUBLIC_SUPABASE_URL=https://auth.offensivewizard.com
NEXT_PUBLIC_SUPABASE_ANON_KEY=uc8bo6Z4ZI4Fhu9XVgSz5LhDRWEQ0joGPMiZYroXPps=
NEXT_PUBLIC_BACKEND_URL=https://api.offensivewizard.com
NEXT_PUBLIC_JUDGE0_API_URL=https://judge0.offensivewizard.com
NEXT_PUBLIC_SITE_URL=https://app.offensivewizard.com

# Internal URL for service communication
SUPABASE_INTERNAL_URL=http://auth:9999

# BACKEND (Go) ENVIRONMENT VARIABLES
# ===================================
# Database Configuration
DATABASE_URL=postgresql://wizardcore:wizardcore_password@postgres:5432/wizardcore?sslmode=disable
DATABASE_HOST=postgres
DATABASE_PORT=5432
DATABASE_USER=wizardcore
DATABASE_PASSWORD=wizardcore_password
DATABASE_NAME=wizardcore
DATABASE_SSLMODE=disable

# Supabase Auth Configuration
SUPABASE_URL=http://auth:9999
SUPABASE_JWT_SECRET=aNBMlTAljHvKyR2dPu6R6nyggeW2398Na3R4XL1+oyebUDiuzSO61nZzoVmRi0h4

# Redis Configuration
REDIS_URL=redis:6379
REDIS_PASSWORD=xZDxSwVXHxVf6FYksaeEoA==
REDIS_HOST=redis
REDIS_PORT=6379

# Judge0 Configuration
JUDGE0_API_URL=http://judge0:2358
JUDGE0_API_KEY=

# Server Configuration
PORT=8080
ENVIRONMENT=production
LOG_LEVEL=info

# CORS Configuration
CORS_ALLOWED_ORIGINS=https://app.offensivewizard.com
FRONTEND_URL=https://app.offensivewizard.com

# Rate Limiting
RATE_LIMIT_RPS=10
RATE_LIMIT_BURST=30

# SUPABASE AUTH (GoTrue) ENVIRONMENT VARIABLES
# =============================================
GOTRUE_API_HOST=0.0.0.0
GOTRUE_API_PORT=9999
GOTRUE_DB_DRIVER=postgres
GOTRUE_DB_DATABASE_URL=postgresql://supabase_auth_admin:password@auth-db:5432/supabase_auth?sslmode=disable
GOTRUE_SITE_URL=https://app.offensivewizard.com
API_EXTERNAL_URL=https://auth.offensivewizard.com

# CORS Configuration for Auth
GOTRUE_CORS_ALLOWED_ORIGINS=https://app.offensivewizard.com
GOTRUE_CORS_ALLOWED_HEADERS=Authorization,Content-Type,X-Client-Info,X-Requested-With,apikey,x-client-info,x-supabase-api-version,Accept,Accept-Language,Content-Language
GOTRUE_CORS_ALLOWED_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS
GOTRUE_CORS_EXPOSED_HEADERS=X-Total-Count
GOTRUE_CORS_ALLOW_CREDENTIALS=true

# JWT Configuration
GOTRUE_JWT_SECRET=aNBMlTAljHvKyR2dPu6R6nyggeW2398Na3R4XL1+oyebUDiuzSO61nZzoVmRi0h4
GOTRUE_JWT_EXP=3600
GOTRUE_JWT_AUD=authenticated
GOTRUE_JWT_ISSUER=supabase

# Database Migration
GOTRUE_DB_AUTOMIGRATE=true

# Authentication Settings
GOTRUE_DISABLE_SIGNUP=false
GOTRUE_MAILER_AUTOCONFIRM=true

# DATABASE PASSWORDS
# ==================
# Main WizardCore Database
POSTGRES_USER=wizardcore
POSTGRES_PASSWORD=wizardcore_password
POSTGRES_DB=wizardcore

# Supabase Auth Database
SUPABASE_DB_USER=supabase_auth_admin
SUPABASE_DB_PASSWORD=password
SUPABASE_DB_NAME=supabase_auth

# Judge0 Database
JUDGE0_POSTGRES_USER=judge0
JUDGE0_POSTGRES_PASSWORD=judge0
JUDGE0_POSTGRES_DB=judge0

# REDIS PASSWORDS
# ===============
REDIS_PASSWORD=xZDxSwVXHxVf6FYksaeEoA==
JUDGE0_REDIS_PASSWORD=judge0

# TRAEFIK REVERSE PROXY (SSL Certificate Management)
# ==================================================
TRAEFIK_ACME_EMAIL=admin@offensivewizard.com
TRAEFIK_ACME_STORAGE=/letsencrypt/acme.json
TRAEFIK_CERTRESOLVER=letsencrypt

# APPLICATION SECRETS
# ===================
# JWT Secret (must match between backend and auth)
JWT_SECRET=aNBMlTAljHvKyR2dPu6R6nyggeW2398Na3R4XL1+oyebUDiuzSO61nZzoVmRi0h4

# Session Secret (for frontend)
NEXTAUTH_SECRET=your-nextauth-secret-here-change-this
NEXTAUTH_URL=https://app.offensivewizard.com

# EMAIL CONFIGURATION (if needed)
# ===============================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@offensivewizard.com

# FILE STORAGE (if needed)
# ========================
S3_ENDPOINT=https://s3.amazonaws.com
S3_REGION=us-east-1
S3_BUCKET=wizardcore-files
S3_ACCESS_KEY=your-access-key
S3_SECRET_KEY=your-secret-key

# MONITORING & ANALYTICS
# ======================
SENTRY_DSN=your-sentry-dsn-if-using
GOOGLE_ANALYTICS_ID=UA-XXXXX-Y

# FEATURE FLAGS
# =============
ENABLE_REGISTRATION=true
ENABLE_EMAIL_VERIFICATION=true
ENABLE_PASSWORD_RESET=true
ENABLE_SOCIAL_LOGIN=false

# DEBUG SETTINGS (development only)
# =================================
DEBUG=false
NODE_ENV=production
LOG_LEVEL=info

# ============================================
# DOCKER COMPOSE SPECIFIC
# ============================================
# Volume names (for docker-compose)
POSTGRES_DATA_VOLUME=postgres_data
AUTH_DB_DATA_VOLUME=auth_db_data
JUDGE0_DB_DATA_VOLUME=judge0_db_data
REDIS_DATA_VOLUME=redis_data
JUDGE0_REDIS_DATA_VOLUME=judge0_redis_data

# Network configuration
NETWORK_NAME=wizardcore-network

# ============================================
# SECURITY NOTES:
# ============================================
# 1. Change all passwords in production
# 2. Use strong, random passwords
# 3. Store sensitive values in a secure vault
# 4. Rotate secrets regularly
# 5. Never commit this file to version control

# ============================================
# QUICK REFERENCE - Required for basic setup:
# ============================================
# DOMAIN=offensivewizard.com
# NEXT_PUBLIC_SUPABASE_URL=https://auth.offensivewizard.com
# NEXT_PUBLIC_BACKEND_URL=https://api.offensivewizard.com
# NEXT_PUBLIC_JUDGE0_API_URL=https://judge0.offensivewizard.com
# SUPABASE_JWT_SECRET=aNBMlTAljHvKyR2dPu6R6nyggeW2398Na3R4XL1+oyebUDiuzSO61nZzoVmRi0h4
# DATABASE_PASSWORD=wizardcore_password
# REDIS_PASSWORD=xZDxSwVXHxVf6FYksaeEoA==